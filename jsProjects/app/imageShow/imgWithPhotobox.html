<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>img with photo box</title>
    <script type="text/javascript" src="../../lib/jquery-2.1.1.js"></script>
    <!-- Second, add the Timer and Easing plugins -->
    <script type="text/javascript" src="./lib/photobox/jquery.photobox.js"></script>

    <link type="text/css" rel="stylesheet" href="./lib/photobox/photobox.css" />
    <link type="text/css" rel="stylesheet" href="./lib/photobox/photobox.ie.css" />
    <!-- Lastly, call the galleryView() function on your unordered list(s) -->
    <script type="text/javascript" src="./imsageShow.js"></script>

    <script src="data.js" ></script>
</head>
<body>
<div id="selectDiv"  style="display:inline-flex"></div>
<div id="showDiv" style="width:90%;height:90%;overflow: auto;">
    <ul id="myGallery">

    </ul>
</div>
<script>
    var dd,div=$("#selectDiv");
    for(var i in data){
        console.log(data[i] instanceof Array);
        if(data[i] instanceof Array)
        {
            var name = i.substring(2);
            var child = $("<div>");
            child.html("<a href='#' >"+name+"</a>");
            child.on('click',function(){
                var target=$("#myGallery");
                target.html("");
                target.usePhotoBox(getOpts(i));
            });
            div.append(child);
        }
    }
    getOpts=function(i){
        var path ;
        var opt = {
            container:$("#myGallery"),
            data:i===undefined||i===null ?data:data[i],
            getCompressdPath:function(i){

                if(path)return path;
                i="./images/233_0515";
                var ps = i.split("/");
                ps.splice(2,0,"compressed");
                path= ps.join("/");
                return path;
            }
        };
        return opt;
    }

</script>
</body>
</html>
